vp-pbft:
 image: hyperledger/fabric-peer
 environment: 
  - CORE_PEER_ADDRESSAUTODETECT=true
  - CORE_VM_ENDPOINT=unix:///var/run/docker.sock
  - CORE_LOGGING_LEVER=DEBUG
  - CORE_PEER_VALIDATOR_CONSENSUS_PLUGIN=pbft
  - CORE_SECURITY_ENABLED=true
  - CORE_PBFT_GENERAL_MODE=batch
  - CORE_PBFT_GENERAL_N=4


  - CORE_PBFT_GENERAL_BATCHSIZE=500
  - CORE_PBFT_GENERAL_TIMEOUT_BATCH=1s
  - CORE_PBFT_GENERAL_TIMEOUT_REQUEST=2s
  - CORE_PBFT_GENERAL_TIMEOUT_VIEWCHANGE=4s
  - CORE_PBFT_GENERAL_TIMEOUT_RESENDVIEWCHANGE=2s
  - CORE_PBFT_GENERAL_TIMEOUT_NULLREQUEST=0s
  - CORE_PBFT_GENERAL_TIMEOUT_BROADCAST=1s
 command: sh -c "sleep 10; peer node start"
